<!doctype html>
<html>
    <head>
        <meta charset="utf-8"/>
        <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
        <title>Content Manager</title>

        <!-- Include the styles for the Netlify CMS UI, after your own styles -->
        <link rel="stylesheet" href="https://unpkg.com/netlify-cms@^1.0.0/dist/cms.css"/>

    </head>
    <body>
				<style>
					.hide{
						display:none;
					}
				
				</style>
        <!-- Include the script that builds the page and powers Netlify CMS -->
        <script src="https://unpkg.com/netlify-cms@^1.0.0/dist/cms.js"></script>
        <script src="https://identity.netlify.com/v1/netlify-identity-widget.js"></script>
        <script>
					var NumberListControl = createClass({
							handleChange: function(e) {
							var value = e.target.value.replace(/[^0-9, ]/, '');
							this.props.onChange(value.split(',').map(function(val) {
									var trimmed = val.trim();
									return trimmed ? parseInt(trimmed, 10) : trimmed;
							}));
							},

							render: function() {
							var value = this.props.value;
							return h('input', {
									type: 'text',
									value: value ? value.join(', ') : '',
									onChange: this.handleChange,
									className: this.props.classNameWrapper+' hide',
									disabled: 'disabled'
							});
							}
					});

					var NumberListPreview = createClass({
							render: function() {
							return h('ul', {},
									this.props.value.map(function(val, index) {
									return h('li', {key: index}, val);
									})
							);
							}
					});

					CMS.registerWidget('helper_text', NumberListControl, NumberListPreview);
        </script>
    </body>
</html>
